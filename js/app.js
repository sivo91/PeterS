


      //DRESY & LOGO
    const jersy = [
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/lm.png",
        id:1,
        team: "HK-32 Lipt.Mikulas"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/pn.png",
        id:2,
        team: "SHK-37 Piestany"
      },
      {
        imagejersy: "../logos/redDress.png",
        imagelogo: "../logos/povazska.png",
        id:3,
        team: "HK-95 P.Bystrica"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/dubnica.png",
        id:4,
        team: "HK Dubnica"
      },
      {
        imagejersy: "../logos/redDress.png",
        imagelogo: "../logos/tn.png",
        id:5,
        team: "HK Dukla Trencin"
      },
      {
        imagejersy: "../logos/greenDress.png",
        imagelogo: "../logos/za.png",
        id:6,
        team: "MsHK Zilina"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/HKM.png",
        id:7,
        team: "HKM Zvolen"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/psg-zlin.png",
        id:8,
        team: "PSG Zlin"

      },
      {
        imagejersy: "../logos/redDress.png",
        imagelogo: "../logos/sf.png",
        id:9,
        team: " San Francisco Bulls"
      },
      {
        imagejersy: "../logos/sharkDress.png",
        imagelogo: "../logos/shark.png",
        id:10,
        team: "Worcester Sharks"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/ak.png",
        id:11,
        team: "Alaska Aces"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/abb.png",
        id:12,
        team: "Abbotsford Heat"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/stockton.png",
        id:13,
        team: "Stockton Thunder"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/brifge.png",
        id:14,
        team: "Bridgeport Sound Tigers"
      },
      {
        imagejersy: "../logos/purpleDress.png",
        imagelogo: "../logos/ORLANDO_SOLAR_BEARS.png",
        id:15,
        team: "Orlando Solar Bears"
      },
      {
        imagejersy: "../logos/greenDress.png",
        imagelogo: "../logos/utah.png",
        id:16,
        team: "Utah Grizzlies"
      },
      {
        imagejersy: "../logos/redDress.png",
        imagelogo: "../logos/komets.png",
        id:17,
        team: "Fort Wayne Komets"
      },
      {
      imagejersy: "../logos/redDress.png",
      imagelogo: "../logos/rapid.png",
      id:18,
      team: "Rapid City Rush"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/tulsa.png",
        id:19,
        team: "Tulsa Oilers"
      },
      {
        imagejersy: "../logos/dress.png",
        imagelogo: "../logos/sd.png",
        id:20,
        team: "San Diego Gulls"
      },
    ] 

    //console.log(jersy)
      
      // data arr obj stats
    const datastats = [
      {
        id: 1,
        Country: 'Slovakia, EU',
        Team: "HK 32 Liptovsky Mikulas",
        League: 'Extraliga',
        Years: '1999-2000',
        Seassons : 1,
        Games: 36,
        Goals:0,
        Assists:0,
        Points: 0, 
        img: '../hokejfoto/aces.png'
      },
      {
        id: 4,
        Country: 'Slovakia, EU',
        Team: "HK Dubnica",
        League: 'SHL',
        Years: '2001/2002',
        Seassons : 2,
        Games: 34,
        Goals:6,
        Assists:4,
        Points: 10,
        img: '../hokejfoto/DUBNICA.png'
      },
      {
        id: 3,
        Country: 'Slovakia, EU',
        Team: "HK 95 Povazska Bystrica",
        League: 'SHL',
        Years: '2006-2007',
        Seassons : 1,
        Games: 1,
        Goals:2,
        Assists:0,
        Points: 2,
        img: '../hokejfoto/rapid.png'
      },
      {
        id: 2,
        Country: 'Slovakia, EU',
        Team: "SHK 37 Piestany",
        League: 'SHL',
        Years: '2004-2005',
        Seassons : 1,
        Games: 3,
        Goals:0,
        Assists:0,
        Points: 0,
        img: '../hokejfoto/ALLSTAR.png'
      },
      {
        id: 5,
        Country: 'Slovakia, EU',
        Team: "HK Dukla Trencin",
        League: 'Extraliga',
        Years: '2001-2007',
        Seassons : 6,
        Games: 254,
        Goals:39,
        Assists:33,
        Points: 72,
        img: '../hokejfoto/tn.png'
      },
      {
        id:6,
        Country: 'Slovakia, EU',
        Team: "MsHK Zilina",
        League: 'Extraliga',
        Years: '07-09, 11-12',
        Seassons : 3,
        Games: 162,
        Goals:60,
        Assists:64,
        Points: 124,
        img: '../hokejfoto/za.png'
      },
      {
        id: 7,
        Country: 'Slovakia, EU',
        Team: "HKM Zvolen",
        League: 'Extraliga',
        Years: '2008-2009',
        Seassons : 1,
        Games: 21,
        Goals:6,
        Assists:6,
        Points: 12,
        img: '../hokejfoto/alaska.png'
      },
      {
        id: 8,
        Country: 'Czech Republic, EU',
        Team: "PSG Zlin",
        League: 'Extraliga',
        Years: '2009-2011',
        Seassons : 2,
        Games: 107,
        Goals:4,
        Assists:18,
        Points: 22,
        img: '../hokejfoto/zlin.png'
      },
      {
        id: 9,
        Country: 'California, USA',
        Team: "San Francisco Bulls",
        League: 'ECHL',
        Years: '2012-2013',
        Seassons : 1,
        Games: 67,
        Goals:34,
        Assists:25,
        Points: 59,
        img: '../hokejfoto/sanfran.png'
      },
      {
        id: 15,
        Country: 'USA / Florida',
        Team: "Orlando Solar Bears",
        League: 'ECHL',
        Years: '2014-2015',
        Seassons : 1,
        Games: 25,
        Goals:5,
        Assists:15,
        Points: 20,
        img: '../hokejfoto/orlando.png'
      },
      {
        id: 10,
        Country: 'Massachusetts, USA',
        Team: "Worchester Sharks",
        League: 'AHL',
        Years: '2012-2013',
        Seassons : 1,
        Games: 9,
        Goals:4,
        Assists:1,
        Points: 5,
        img: '../hokejfoto/sharks.png'
      },
      {
        id: 11,
        Country: 'Alaska, USA',
        Team: "Alaska Aces",
        League: 'ECHL',
        Years: '13-14, 15-17',
        Seassons : 3,
        Games: 181,
        Goals:91,
        Assists:121,
        Points: 212,
        img: '../hokejfoto/alaskacupp.png'
      },
      {
        id: 12,
        Country: 'Canada',
        Team: "Abbotsford Heat",
        League: 'AHL',
        Years: '2013-2014',
        Seassons : 1,
        Games: 3,
        Goals:0,
        Assists:0,
        Points: 0,
        img: '../hokejfoto/abots.png'
      },
      {
        id: 13,
        Country: 'California, USA',
        Team: "Stockton Thunder",
        League: 'ECHL',
        Years: '2014-2015',
        Seassons : 1,
        Games: 29,
        Goals:10,
        Assists:16,
        Points: 26,
        img: '../hokejfoto/stockton.png'
      },
      {  
        id: 14,   
        Country: 'Connecticut, USA',
        Team: "Bridgeport Sound Tigers",
        League: 'AHL',
        Years: '2014-2015',
        Seassons : 1,
        Games: 6,
        Goals:1,
        Assists:0,
        Points: 1,
        img: '../hokejfoto/bridgeport.png'
      },
      {
        id: 17,
        Country: 'Indiana, USA',
        Team: "Fort Wayne Komets",
        League: 'ECHL',
        Years: '2015-2016',
        Seassons : 1,
        Games: 10,
        Goals:2,
        Assists:6,
        Points: 8,
        img: '../hokejfoto/ala.png'
      },
      ,
      {
        id: 16,
        Country: 'Utah, USA',
        Team: "Utah Grizzlies",
        League: 'ECHL',
        Years: '2017-2018',
        Seassons : 1,
        Games: 4,
        Goals:0,
        Assists:1,
        Points: 1,
        img: '../hokejfoto/modalBG.png'
      },
      {
        id: 18,
        Country: 'South Dakota, USA',
        Team: "Rapid City Rush",
        League: 'ECHL',
        Years: '2017-2018',
        Seassons : 1,
        Games: 58,
        Goals:26,
        Assists:34,
        Points: 60,
        img: '../hokejfoto/repid.png'
      },
      {
        id: 19,
        Country: 'Oklahoma, USA',
        Team: "Tulsa Oilers",
        League: 'ECHL',
        Years: '2018-2019',
        Seassons : 1,
        Games: 10,
        Goals:5,
        Assists:3,
        Points: 8,
        img: '../hokejfoto/tulsa.png'
      },
      {
        id: 20,
        Country: 'California, USA',
        Team: "San Diego Gulls",
        League: 'AHL',
        Years: '2018-2019',
        Seassons : 1,
        Games: 1,
        Goals:0,
        Assists:0,
        Points: 0,
        img: '../hokejfoto/ABBOTSF.png'
      }
    ]


   // *****************************



 /* toggle */

 function toggleClass() {
    var x = document.querySelector('.hamb')
    let nav = document.querySelector('nav')

      if (x) {
       nav.style.top = '-10px'
       x.style.visibility = 'hidden'
      } else {
        nav.style.top = '-220px'
      }
    }



 //  SHOW DRESY

 const modal = document.querySelector('.modal')
 const panel = document.querySelector('.panel')
 const btnContainer = document.querySelector('.btn-container')
 

 // DOCUMENT EVENT po natiahnuti dam even na logo

 
let pages = []
let index = 0

// outside lebo ju budem vkladat inde na obnovenie udajov
const setupUI = () => {
   display(pages[index])
   displayButtons(btnContainer, pages, index)
   showModal()
   toolTip()

}


let screenSize = document.getElementById('windowSize')

const initApp = async () => {
 pages = paginate(jersy)
 setupUI()
 resizing()

 //console.log(screen.width)
}


const showModal = () => {
   const logoT = document.querySelectorAll('.logoteamu')
 //console.log(logoT)

   // select single logo
   logoT.forEach(item => {   // should call logo instead item
   //console.log(item)
   item.addEventListener('click', (e) => {
    // trafi cisielko
     //console.log(e.currentTarget.dataset.id)
     const logoID = e.currentTarget.dataset.id
     //console.log(logoID)

     // SHOW MODAL & STATS & FOTOS
     modal.innerHTML = datastats.map( item => {
     if(logoID == item.id){
       modal.classList.add('showit') 
     return `
        <div class="bgmodal"></div>
      
        <div class="card" style="width: 350px;">
        <img src="${item.img}" class="card-img-top" alt="img">
        <div class="card-body textbox">
          <h6>Team: ${item.Team}</h6>
          <h6>League: ${item.League}</h6>
          <h6>Country: ${item.Country}</h6>
          <h6>Years: ${item.Years}</h6>
          <h6>Seassons: ${item.Seassons}</h6>
          <h6>Games: ${item.Games}</h6>
          <h6>Goals: ${item.Goals}</h6>
          <h6>Assists: ${item.Assists}</h6>
          <h6>Points: ${item.Points}</h6>
        </div>
      </div>

      <button type="button" class="btn btn-info closebtn">Close</button>
        
     `
    } 
   }).join('') 
   
       // for future add to line 466 for total stats
      /* <i class="fas fa-poll total-stats"></i> */

    
  //  CLOSE MODAL 
 const closeModal = document.querySelectorAll('.closebtn')

          closeModal.forEach(function(done) {
          //console.log(done) ok
          done.addEventListener('click', function(e) {
          const modal = done.parentElement
          
          modal.classList.remove('showit')
          e.preventDefault()
          })
          setupUI()
        }) 

    })
  })
}


btnContainer.addEventListener('click',  function (e) {
  
     if(e.target.classList.contains('btn-container')) return
     if(e.target.classList.contains('page-btn')) {
       //console.log(e.target.dataset.index)
       index = parseInt(e.target.dataset.index)
       setupUI()
     }

     if (e.target.classList.contains('next-btn')) {
       index++
       if(index > pages.length - 1) {
         index = 0
       }
       setupUI()
     }

     if (e.target.classList.contains('prev-btn')) {
       index--
       if(index < 0) {
         index = pages.length - 1
       }
       setupUI()
     }
 })


const display = (jersy) => {

  const newFollowers = jersy.map( item => {
  return `
  <div class="paneldresu"> 
    <!--  DRESS + LOGO -->
      <img src="${item.imagejersy}"  class="dres" alt="dres" data-bs-toggle="tooltip" data-bs-placement="top" title="${item.team}">
      <img src="${item.imagelogo}"  class="logoteamu" data-id="${item.id}" alt="orlando">
  </div>
  `
  }).join('') 
  //console.log(newFollowers)
  panel.innerHTML = newFollowers
}


const paginate = (jersy) => {
  const itemsPerPage = 10
  const numberOfPages = jersy.length / itemsPerPage
  //console.log(numberOfPages)
  const newFollowers = Array.from({length:numberOfPages}, (_, index) => {
    const start = index * itemsPerPage
    return jersy.slice(start, start + itemsPerPage)
  })
  return newFollowers
}


const displayButtons = (btnContainer, pages, activeIndex) => {
  //console.log(btnContainer, pages, activeIndex)
  let btns = pages.map((_, pageIndex) => {
    return `<button class="page-btn ${ activeIndex === pageIndex ? 'active-btn' : 'null' }" data-index="${pageIndex}">${pageIndex + 1}</button>`
  })
  btns.push('<button class="next-btn">></button>')
  btns.unshift('<button class="prev-btn"><</button>')
  btnContainer.innerHTML = btns.join('')
}


const resizing = () => {
  console.log(screen.width)
  /* if(screen.width < 769 ) {
    //console.log('ipad size')
   document.querySelector('.btn-container').style.width = '90%'
   
  } */
}


// tooltip bootstrap on jersey
function toolTip(){
   var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})
}


 //MUSI BYT POD INIT FUNCTION 
window.addEventListener('load', initApp)








